!function(){var l=document.querySelector("#button-container"),e=document.querySelectorAll("#button-container button[aria-controls]"),o=Array.prototype.slice.call(e,0),t=document.getElementById("banner-mobile-button").getAttribute("aria-controls"),r=document.getElementById(t),c=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function a(e){var t,n=l.contains(e.target),i=r.contains(e.target)&&null!==r;27===e.which&&(t=e,o.forEach(function(e){t.target===document.querySelector("body")&&null===e.nextElementSibling?u(e):t.target===document.querySelector("body")&&e.nextElementSibling&&(b(e),d(e.nextElementSibling))})),"click"===e.type&&(n||i)||(o.forEach(function(e){null===e.nextElementSibling?u(e):(b(e),d(e.nextElementSibling))}),document.removeEventListener("click",a),document.removeEventListener("keydown",a))}function u(e){return b(e),c.detail.isOpen=!1,e.dispatchEvent(c),!0}function d(e){e.classList.remove("banner-popup-active")}function m(e){e.setAttribute("aria-expanded","true")}function b(e){e.setAttribute("aria-expanded","false")}l.addEventListener("click",function(e){if("button"!==e.target.localName)return;(function(l,e){e.forEach(function(e){var t,n,i;e===l.target&&null===e.nextElementSibling?(t=e,n=document.querySelector("#menu-toggle-text"),i="true"===t.getAttribute("aria-expanded"),c.detail.isOpen=!i,t.dispatchEvent(c),i?(b(t),n.textContent="open"):(m(t),n.textContent="close")):e!==l.target&&null===e.nextElementSibling?u(e):e===l.target&&e.nextElementSibling?(m(e),e.nextElementSibling.classList.add("banner-popup-active")):e!==l.target&&e.nextElementSibling&&(b(e),d(e.nextElementSibling))})})(e,o),document.addEventListener("click",a),document.addEventListener("keydown",a)})}();