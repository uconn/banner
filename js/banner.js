!function(){var e,t=document.querySelector("#uconn-banner"),l=document.querySelector("#button-container"),n=document.querySelectorAll("#button-container button[aria-controls]"),r=Array.prototype.slice.call(n,0);null!==document.querySelector("#banner-mobile-button")&&(e=document.querySelector("#banner-mobile-button").getAttribute("aria-controls"),mobileMenu=document.getElementById(e));var u=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function a(e){var t,n=l.contains(e.target),i=mobileMenu.contains(e.target)&&null!==mobileMenu,o="click"===e.type||"keydown"===e.type;27===e.which&&(t=e,r.forEach(function(e){t.target===document.querySelector("body")&&null===e.nextElementSibling?c(e):t.target===document.querySelector("body")&&e.nextElementSibling&&(m(e),d(e.nextElementSibling))})),o&&(n||i)||(r.forEach(function(e){null===e.nextElementSibling?c(e):(m(e),d(e.nextElementSibling))}),document.removeEventListener("click",a),document.removeEventListener("keydown",a))}function c(e){return m(e),u.detail.isOpen=!1,e.dispatchEvent(u),!0}function d(e){e.classList.remove("banner-popup-active")}function b(e){e.setAttribute("aria-expanded","true")}function m(e){e.setAttribute("aria-expanded","false")}t.classList.remove("no-js"),l.addEventListener("click",function(e){if("button"!==e.target.localName)return;(function(l,e){e.forEach(function(e){var t,n,i,o="true"===e.getAttribute("aria-expanded");e===l.target&&null===e.nextElementSibling?(t=e,n=document.querySelector("#menu-toggle-text"),i="true"===t.getAttribute("aria-expanded"),u.detail.isOpen=!i,t.dispatchEvent(u),i?(m(t),n.textContent="open"):(b(t),n.textContent="close")):e!==l.target&&null===e.nextElementSibling?c(e):e===l.target&&e.nextElementSibling&&o?(m(e),d(e.nextElementSibling)):e===l.target&&e.nextElementSibling?(b(e),e.nextElementSibling.classList.add("banner-popup-active")):e!==l.target&&e.nextElementSibling&&(m(e),d(e.nextElementSibling))})})(e,r),document.addEventListener("click",a),document.addEventListener("keydown",a)})}();