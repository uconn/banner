!function(){var e=document.querySelector("#uconn-banner"),l=document.querySelector("#button-container"),t=document.querySelectorAll("#button-container button[aria-controls]"),o=Array.prototype.slice.call(t,0),n=document.getElementById("banner-mobile-button").getAttribute("aria-controls"),r=document.getElementById(n),a=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function c(e){var t,n=l.contains(e.target),i=r.contains(e.target)&&null!==r;27===e.which&&(t=e,o.forEach(function(e){t.target===document.querySelector("body")&&null===e.nextElementSibling?u(e):t.target===document.querySelector("body")&&e.nextElementSibling&&(b(e),d(e.nextElementSibling))})),"click"===e.type&&(n||i)||(o.forEach(function(e){null===e.nextElementSibling?u(e):(b(e),d(e.nextElementSibling))}),document.removeEventListener("click",c),document.removeEventListener("keydown",c))}function u(e){return b(e),a.detail.isOpen=!1,e.dispatchEvent(a),!0}function d(e){e.classList.remove("banner-popup-active")}function m(e){e.setAttribute("aria-expanded","true")}function b(e){e.setAttribute("aria-expanded","false")}e.classList.remove("no-js"),l.addEventListener("click",function(e){if("button"!==e.target.localName)return;(function(o,e){e.forEach(function(e){var t,n,i,l="true"===e.getAttribute("aria-expanded");e===o.target&&null===e.nextElementSibling?(t=e,n=document.querySelector("#menu-toggle-text"),i="true"===t.getAttribute("aria-expanded"),a.detail.isOpen=!i,t.dispatchEvent(a),i?(b(t),n.textContent="open"):(m(t),n.textContent="close")):e!==o.target&&null===e.nextElementSibling?u(e):e===o.target&&e.nextElementSibling&&l?(b(e),d(e.nextElementSibling)):e===o.target&&e.nextElementSibling?(m(e),e.nextElementSibling.classList.add("banner-popup-active")):e!==o.target&&e.nextElementSibling&&(b(e),d(e.nextElementSibling))})})(e,o),document.addEventListener("click",c),document.addEventListener("keydown",c)})}();