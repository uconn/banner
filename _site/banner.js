(()=>{"use strict";!function(){var e,t=document.querySelector("#uconn-banner"),n=document.querySelector("#button-container"),i=document.querySelectorAll("#button-container button[aria-controls]"),o=Array.prototype.slice.call(i,0);null!==document.querySelector("#banner-mobile-button")&&(e=document.querySelector("#banner-mobile-button").getAttribute("aria-controls"),mobileMenu=document.getElementById(e));var l=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function r(e){var t=n.contains(e.target),i=mobileMenu.contains(e.target)&&null!==mobileMenu,l="click"===e.type||"keydown"===e.type;27===e.which&&function(e,t){t.forEach((function(t){e.target===document.querySelector("body")&&null===t.nextElementSibling?u(t):e.target===document.querySelector("body")&&t.nextElementSibling&&(d(t),c(t.nextElementSibling))}))}(e,o),l&&(t||i)||(function(e){e.forEach((function(e){null===e.nextElementSibling?u(e):(d(e),c(e.nextElementSibling))}))}(o),document.removeEventListener("click",r),document.removeEventListener("keydown",r))}function u(e){return d(e),l.detail.isOpen=!1,e.dispatchEvent(l),!0}function c(e){e.classList.remove("banner-popup-active")}function a(e){e.setAttribute("aria-expanded","true")}function d(e){e.setAttribute("aria-expanded","false")}t.classList.remove("no-js"),n.addEventListener("click",(function(e){"button"===e.target.localName&&(function(e,t){t.forEach((function(t){var n="true"===t.getAttribute("aria-expanded");t===e.target&&null===t.nextElementSibling?function(e){var t=document.querySelector("#menu-toggle-text"),n="true"===e.getAttribute("aria-expanded");l.detail.isOpen=!n,e.dispatchEvent(l),n?(d(e),t.textContent="open"):(a(e),t.textContent="close")}(t):t!==e.target&&null===t.nextElementSibling?u(t):t===e.target&&t.nextElementSibling&&n?(d(t),c(t.nextElementSibling)):t===e.target&&t.nextElementSibling?(a(t),t.nextElementSibling.classList.add("banner-popup-active")):t!==e.target&&t.nextElementSibling&&(d(t),c(t.nextElementSibling))}))}(e,o),document.addEventListener("click",r),document.addEventListener("keydown",r))}))}()})();