(()=>{"use strict";!function(){const e=document.querySelector("#uconn-banner"),t=document.querySelector("#button-container"),n=document.querySelectorAll("#button-container button[aria-controls]"),i=Array.from(n),o=document.querySelector("#banner-mobile-button"),c=o?.getAttribute("aria-controls")??"",r=document.getElementById(c),l=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function u(e){const n=e.target,o=t?.contains(n),c=r?.contains(n)&&null!==r;("click"===e.type||"keydown"===e.type)&&(o||c)||(function(e){e.forEach((function(e){null===e.nextElementSibling?s(e):(b(e),d(e.nextElementSibling))}))}(i),document.removeEventListener("click",u),document.removeEventListener("keydown",a))}function a(e){"Escape"===e.code&&function(e,t){t.forEach((function(e){s(e),b(e),d(e.nextElementSibling)}))}(0,i)}function s(e){return b(e),l.detail.isOpen=!1,e.dispatchEvent(l),!0}function d(e){e?.classList.remove("banner-popup-active")}function m(e){e.setAttribute("aria-expanded","true")}function b(e){e.setAttribute("aria-expanded","false")}e?.classList.remove("no-js"),t?.addEventListener("click",(function(e){const t=e?.target;"button"===t.localName&&(function(e,t){t.forEach((function(t){const n="true"===t.getAttribute("aria-expanded");t===e.target&&null===t.nextElementSibling?function(e){const t=document.querySelector("#menu-toggle-text"),n="true"===e.getAttribute("aria-expanded");l.detail.isOpen=!n,e.dispatchEvent(l),!n&&t?(m(e),t.textContent="close"):n&&t&&(b(e),t.textContent="open")}(t):t!==e.target&&null===t.nextElementSibling?s(t):t===e.target&&t.nextElementSibling&&n?(b(t),d(t.nextElementSibling)):t===e.target&&t.nextElementSibling?(m(t),t.nextElementSibling.classList.add("banner-popup-active")):t!==e.target&&t.nextElementSibling&&(b(t),d(t.nextElementSibling))}))}(e,i),document.addEventListener("click",u),document.addEventListener("keydown",a))}))}()})();