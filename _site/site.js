(()=>{"use strict";(()=>{const e=Array.from(document.querySelectorAll("main form")),t=[...Array.from(document.querySelectorAll("select")),...Array.from(document.querySelectorAll("input[type=radio]"))],o=Array.from(document.querySelectorAll(".download-button"));function l(e){document.documentElement.style.setProperty("--container-width",`${e}px`),localStorage.setItem("width",e)}function n(e){Array.from(document.querySelectorAll(".data-width")).map((t=>{t.innerHTML=`${e}px`}))}[{key:"theme",value:"blue"},{key:"width",value:"768"},{key:"title",value:"University Communications"},{key:"abbrev",value:"UComm"},{key:"site-title-display",value:"block"},{key:"level-one-title",value:"UConn Banner"},{key:"level-two-title",value:"University Communications"}].map((({key:e,value:t})=>!localStorage.getItem(e)&&(localStorage.setItem(e,t),!0))),function(){if(!document.querySelector("#uconn-banner")?.classList.contains("alternative"))return;const e=localStorage.getItem("title"),t=localStorage.getItem("abbrev"),o=document.querySelector("#university-of-connecticut"),l=document.querySelector("#site-abbreviation"),n=document.querySelector("#site-abbrev-input"),c=document.querySelector("#site-title-input");n&&(n.value=t??""),c&&(c.value=e??""),l&&(l.innerText=t??""),o&&(o.innerText=e??"")}(),function(){const e=localStorage.getItem("theme")??"",t=document.querySelector(`#banner-theme-form input[value=${e}]`),o=document.querySelector("#uconn-header-container");o?.classList.add(e),t?.setAttribute("checked","checked")}(),function(){const e=localStorage.getItem("width")??"768";document.querySelector("#container-width").value=e??"",l(e),n(e)}(),function(){const e=document.querySelector("#site-titles"),t=localStorage.getItem("site-title-display"),o=document.querySelector(`#site-title-toggle input[value=${t}]`);e.style.display=t??"block",o.setAttribute("checked","checked")}(),function(){const e=localStorage.getItem("level-one-title"),t=localStorage.getItem("level-two-title"),o=document.querySelector("#level-one-input"),l=document.querySelector("#level-two-input"),n=document.querySelector("#uc-site-title a"),c=document.querySelector("#uc-site-parent a");o&&(o.value=e??""),l&&(l.value=t??""),n&&(n.innerText=e??""),c&&(c.innerText=t??"")}(),e.map((e=>{e.addEventListener("submit",(e=>{e.preventDefault();const t=e.target;switch(t.id){case"container-width-form":const e=t.querySelector("#container-width").value;l(e),n(e);break;case"site-title-form":const o=t.querySelector("#site-title-input"),r=t.querySelector("#site-abbrev-input"),a=t.querySelector("#level-one-input"),i=t.querySelector("#level-two-input");console.log({abbrevInput:r}),o&&c({key:"title",selector:"#university-of-connecticut",text:o.value}),r&&c({key:"abbrev",selector:"#site-abbreviation",text:r.value}),a&&c({key:"level-one-title",selector:"#uc-site-title a",text:a.value}),i&&c({key:"level-two-title",selector:"#uc-site-parent a",text:i.value})}}))})),t.forEach((e=>{e.addEventListener("change",(e=>{const t=e.target;switch(t.id){case"standard-theme":case"inverted-theme":r(t.value);break;case"site-titles-display":case"site-titles-hide":a(t.value)}}))})),o.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;switch(t.id){case"download-banner-html":case"download-levels-html":const e=t.getAttribute("data-element")??"";i(e);break;case"download-banner-styles":case"download-banner-script":const o="download-banner-styles"===t.id?"css":"js";u(o)}}))}));const c=({text:e,selector:t,key:o})=>{const l=document.querySelector(`${t}`);l&&(l.innerHTML=e,localStorage.setItem(o,e))},r=e=>{const t=document.querySelector("#uconn-header-container");"white"===e?t.classList.add("white"):t.classList.remove("white"),localStorage.setItem("theme",e)},a=e=>{document.querySelector("#site-titles").style.display=e,localStorage.setItem("site-title-display",e)},i=e=>{const t=document.querySelector(`#${e}`),o=t.innerHTML,l=new Blob([o],{type:"text/plain"}),n=URL.createObjectURL(l),c=document.createElement("a");c.href=n,c.download=`${t.id}.html`,c.click()},u=e=>{const t=document.createElement("a"),o=`banner.${e}`;t.href=`${window.location.origin}/${o}`,t.download=o,t.click()}})()})();