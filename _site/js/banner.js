!function(){var e=document.querySelector("#uconn-banner"),o=document.querySelector("#button-container"),t=document.querySelectorAll("#button-container button[aria-controls]"),r=Array.prototype.slice.call(t,0),n=document.getElementById("banner-mobile-button").getAttribute("aria-controls"),a=document.getElementById(n),c=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function u(e){var t,n=o.contains(e.target),i=a.contains(e.target)&&null!==a,l="click"===e.type||"keydown"===e.type;27===e.which&&(t=e,r.forEach(function(e){t.target===document.querySelector("body")&&null===e.nextElementSibling?d(e):t.target===document.querySelector("body")&&e.nextElementSibling&&(s(e),m(e.nextElementSibling))})),l&&(n||i)||(r.forEach(function(e){null===e.nextElementSibling?d(e):(s(e),m(e.nextElementSibling))}),document.removeEventListener("click",u),document.removeEventListener("keydown",u))}function d(e){return s(e),c.detail.isOpen=!1,e.dispatchEvent(c),!0}function m(e){e.classList.remove("banner-popup-active")}function b(e){e.setAttribute("aria-expanded","true")}function s(e){e.setAttribute("aria-expanded","false")}e.classList.remove("no-js"),o.addEventListener("click",function(e){if("button"!==e.target.localName)return;(function(o,e){e.forEach(function(e){var t,n,i,l="true"===e.getAttribute("aria-expanded");e===o.target&&null===e.nextElementSibling?(t=e,n=document.querySelector("#menu-toggle-text"),i="true"===t.getAttribute("aria-expanded"),c.detail.isOpen=!i,t.dispatchEvent(c),i?(s(t),n.textContent="open"):(b(t),n.textContent="close")):e!==o.target&&null===e.nextElementSibling?d(e):e===o.target&&e.nextElementSibling&&l?(s(e),m(e.nextElementSibling)):e===o.target&&e.nextElementSibling?(b(e),e.nextElementSibling.classList.add("banner-popup-active")):e!==o.target&&e.nextElementSibling&&(s(e),m(e.nextElementSibling))})})(e,r),document.addEventListener("click",u),document.addEventListener("keydown",u)})}();