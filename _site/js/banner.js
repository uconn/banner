!function(){var l=document.querySelector("#button-container"),e=document.querySelectorAll("#button-container button[aria-controls]"),r=Array.prototype.slice.call(e,0),t=document.getElementById("banner-mobile-button").getAttribute("aria-controls"),o=document.getElementById(t),a=new CustomEvent("ucBannerMenuState",{detail:{isOpen:!1},bubbles:!0});function c(e){var t,n=l.contains(e.target),i=o.contains(e.target)&&null!==o;27===e.which&&(t=e,r.forEach(function(e){t.target===document.querySelector("body")&&null===e.nextElementSibling?u(e):t.target===document.querySelector("body")&&e.nextElementSibling&&(b(e),d(e.nextElementSibling))})),"click"===e.type&&(n||i)||(r.forEach(function(e){null===e.nextElementSibling?u(e):(b(e),d(e.nextElementSibling))}),document.removeEventListener("click",c),document.removeEventListener("keydown",c))}function u(e){return b(e),a.detail.isOpen=!1,e.dispatchEvent(a),!0}function d(e){e.classList.remove("banner-popup-active")}function m(e){e.setAttribute("aria-expanded","true")}function b(e){e.setAttribute("aria-expanded","false")}l.addEventListener("click",function(e){if("button"!==e.target.localName)return;(function(r,e){e.forEach(function(e){var t,n,i,l="true"===e.getAttribute("aria-expanded");e===r.target&&null===e.nextElementSibling?(t=e,n=document.querySelector("#menu-toggle-text"),i="true"===t.getAttribute("aria-expanded"),a.detail.isOpen=!i,t.dispatchEvent(a),i?(b(t),n.textContent="open"):(m(t),n.textContent="close")):e!==r.target&&null===e.nextElementSibling?u(e):e===r.target&&e.nextElementSibling&&l?(b(e),d(e.nextElementSibling)):e===r.target&&e.nextElementSibling&&!l?(m(e),e.nextElementSibling.classList.add("banner-popup-active")):e!==r.target&&e.nextElementSibling&&(b(e),d(e.nextElementSibling))})})(e,r),document.addEventListener("click",c),document.addEventListener("keydown",c)})}();